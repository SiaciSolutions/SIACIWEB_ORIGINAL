<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      <!-- Page Header 1111 -->
	   Envios / 发货清单
      <small>Consulta de los envios generados por el usuario</small>
    </h1>
    <ol class="breadcrumb">
      <li><i class="fa fa-dashboard"></i>Envios</li>
      <li class="active">Lista de envios</li>
    </ol>
  </section>
  
    <div *ngIf="success" class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Pedido agregado con éxito 
		</div>
    </div>
	
	<div *ngIf="success_act" class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Pedido actualizado con éxito 
		</div>
    </div>
	
	<div *ngIf="espera_correo_facturacion"  class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="callout callout-warning">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="callout callout-warning warning-dismissable">
            <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button>
            <h4><i class="icon fa fa-warning"></i> Enviándo correo por favor espere ..!!!</h4>Enviando correo al Departamento de Facturación...!!!
		</div>
    </div>
	
	<div *ngIf="espera_exitoso_facturacion"   class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Departamento de Facturación...!!!
		</div>
    </div>
	
	<div *ngIf="espera_correo_pedido"  class="col-lg-12 alerts">
	<!-- <div  class="col-lg-12 alerts"> -->
        <div id="custom-alerts" style="display:none;">
            <div class="callout callout-warning">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="callout callout-warning warning-dismissable">
            <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button>
            <h4><i class="icon fa fa-warning"></i> Enviándo correo por favor espere ..!!!</h4>Enviando correo al Cliente...!!!
		</div>
    </div>
	
	<div *ngIf="espera_exitoso_pedido"   class="col-lg-12 alerts">
	<!-- <div   class="col-lg-12 alerts"> -->
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Cliente...!!!
		</div>
    </div>
	
	<!-- *ngIf="error_envio_correo"   -->
	<div  *ngIf="error_envio_correo"  class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert callout callout-danger">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-warning"></i> Envio fallido de correo</h4> {{descripcion_error}}
		</div>
    </div>
	

	
	<div *ngIf="espera_generar_pdf"  class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="callout callout-warning">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="callout callout-warning warning-dismissable">
            <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button>
            <h4><i class="icon fa fa-warning"></i> Generando PDF por favor espere ..!!!</h4>
		</div>
    </div>
	
	<!-- <div *ngIf="espera_exitoso_pedido"   class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="alert alert-dismissable"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="alert alert-success alert-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button> -->
            <!-- <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Cliente...!!! -->
		<!-- </div> -->
    <!-- </div> -->

<section class="content">
    <div class="row">
	
	
	    <div class="col-xs-12">
            <div class="box box-primary">
				<div class="box-header">
					<label for="reference">SELECCIONE RANGO DE FECHA DE CREACION DEL ENVIO / <span style="color:red;font-weight:bold">按发货创建日期搜索</span></label>
                </div>
				 <div class="box-header text-left">

				 
				  <div class="col-md-2">
								<label for="fecha_desde">Fecha desde: / <span style="color:red;font-weight:bold">起始日期</span> : </label>
								<input [(ngModel)]="fecha_desde" type="date" name="fecha_desde" placeholder="dd-mm-yyyy" value="" min="1997-01-01" max="2030-12-31">
								
				 </div>

				 <div class="col-md-2">
								<label for="fecha_hasta">Fecha hasta: / <span style="color:red;font-weight:bold">结束日期</span>：</label>
								<input [(ngModel)]="fecha_hasta" type="date" name="fecha_hasta" placeholder="dd-mm-yyyy" value="" min="1997-01-01" max="2030-12-31">
				 </div>
				 <div class="col-md-2">
					<label >Courier: / <span style="color:red;font-weight:bold">择快递公司</span>：</label>
				 <select  name="courier" [(ngModel)]="courier" class="form-control select2 tip" style="width:100%;">
						<option [ngValue]="undefined" disabled  selected>Seleccione</option>
						<option  *ngFor="let cd of lista_couriers" [value]="cd.value">{{cd.name}}</option> 
				</select>

				 </div>
				 <div *ngIf="srv.getTipacc() =='T'"  class="col-md-2">
					<label >Status Tranmisión:</label>
				 <select  name="status_tranmision" [(ngModel)]="status_transmision" class="form-control select2 tip" style="width:100%;">
						<option [ngValue]="undefined" disabled  selected>Seleccione</option>
						<option  *ngFor="let cd of lista_status_transmision" [value]="cd.value">{{cd.name}}</option> 
				</select>

				 </div>

				 <div *ngIf="srv.getTipacc() =='T'"  class="col-md-2">
					<label >Tipo Doc:</label>
				 <select  name="tipo_trans" [(ngModel)]="tipo_trans" class="form-control select2 tip" style="width:100%;">
						<option [ngValue]="undefined" disabled  selected>Seleccione</option>
						<option  *ngFor="let cd of lista_tipo_trans" [value]="cd.value">{{cd.name}}</option> 
				</select>

				 </div>

				</div>
				<div class="box-header text-center">
					<div class="col-md-2">
						<br>
						<input  type="submit" (click)="buscar_factura_fecha()"  name="Buscar" value="Buscar / 搜索" class="btn btn-primary">
					</div>
					<div *ngIf="srv.getTipacc() =='T' && elements_checkedList.length > 0 " class="col-md-2">
						<br>
						<input  type="submit"  name="transmitir" value="Transmitir Courier"  (click)="transmision_masiva()" class="btn btn-danger">
					</div>
						<!-- *ngIf="srv.getRol() == 'TOTAL'"  &&  -->
					
					<div *ngIf="srv.getTipacc() =='T' && elements_checkedList.length > 0"  class="col-md-3">
						<div  class="checkbox">
							<br>
							<label>
								<input id="checkAll" type="checkbox" [(ngModel)]="masterSelected" name="list_name" (change)="checkUncheckAll()"/> Seleccionar todos los comprobantes
							</label>
						</div>

					</div>
				</div>



                <div class="box-body">
				<div class="table-responsive">
				<!-- <table *ngIf="!loading" datatable class="row-border hover">  -->
					<div *ngIf="loading" class="col-md-12">
						  <div class="box box-primary">
							<div class="text-center box-header">
							  <h3 class="box-title ">Cargando. Generando tabla....!!!!</h3>
							</div>
							<div class="box-body">
							  <!-- The body of the box -->
							</div>
							<div class="overlay">
							  <i class="fa fa-refresh fa-spin"></i>
							</div>
							<!-- end loading -->
						  </div>
						  <!-- /.box -->
					</div>
					<div *ngIf="enviando_guias" class="progress-group text-center">
						<span class="progress-text">Guias enviadas :   <b>{{CONTADOR_GUIAS}}</b>/{{CANTIDAD_A_ENVIAR}}</span>
						<!-- <span class="progress-number"><b>160</b>/200</span> -->
						
						<div class="progress sm">
						<!-- <div class="progress-bar progress-bar-green" style="width:progreso_reporte%"></div> -->
						<div class="progress-bar progress-bar-red" [ngStyle]="{'width': progreso_reporte}"></div>
						</div>
					</div>
				
				<table *ngIf="!loading" datatable [dtOptions]="dtOptions" class="table table-striped table-bordered table-condensed table-hover dataTable"> 
				<!-- <table *ngIf="!loading" datatable [dtOptions]="dtOptions" class="dataTable">  -->
						<thead>
						<tr>
						  <th *ngIf="srv.getTipacc() =='T'" >
						  	Selc
						  </th>
						  <th>Fecha</th>
						  <th>TipDoc</th>
						  <!-- <th>Almacen</th>  srv.getTipacc() =='T' -->
				<!-- 		  <th>Caja</th> -->
						  <th >SecInterno</th>
						  <th>NomCourier</th>
						  <!-- <th>Serie</th> -->
						  <th>NumFactura</th>
						  <th *ngIf="srv.getTipacc() =='T'">Usuario</th>
						  <th *ngIf="srv.getTipacc() =='T'" >Remitente</th>
						  <th >Destinatario</th>
						  <th *ngIf="srv.getActRegPlacaPDV() == 'SI'" >Placa</th>
						  <th>Cajas</th>
						  <th>Total (USD)</th>
						  <th>Peso</th>
						  <th *ngIf="srv.getTipacc() =='T'" >Forma de pago</th>
						  <th *ngIf="srv.getTipacc() =='T'">StatusFact</th>
						  <th>NumGuia</th>
						  <th>Acciones</th>
						  
						  
						  
						  <!-- <th>Observación</th> -->
						  <!-- <th>Estado</th> -->
						  <!-- <th>Fecha/hora entrega</th> -->
						  <!-- <th>Direcc entrega</th> -->
						  <!-- <th>Ruta asignada</th> -->
						  
						  <!-- <th style="width:95px;" role="columnheader" rowspan="1" colspan="1" >Acciones</th> -->
						  
						</tr>
					  </thead>
					  
					<tbody *ngIf="(lista_pedidos?.length != 0) && (!loading) ">
					  <tr *ngFor="let el of lista_pedidos;">
<!-- 						*ngIf="el.status == 'REGISTRADO'" -->
						  <td *ngIf="!el.tracking && srv.getTipacc() =='T'"> 
							<input  type="checkbox" name="list_name" [(ngModel)]="el.isSelected" (change)="isAllSelected()"/>	
						  </td>
						  <td *ngIf="el.tracking && srv.getTipacc() =='T'">

						  </td>
						  <td>{{el.fecfac}}</td>
						  <td *ngIf="el.tipodocumento =='01'">FAC</td>
						  <td *ngIf="el.tipodocumento =='GR'">GR</td>

					<!-- 	  <td>{{el.nomalm}}</td> -->
					<!-- 	  <td>{{el.caja}}</td> -->
						  <td  >{{el.numfac}}</td>
						  <td>
							<ul class="list-group">
								<li *ngIf="el.nomvhi == 'LAARCOURIER'" class="list-group-item list-group-item-warning"><span style="font-weight:bold;">LAARCOURIER</span></li>
								<li *ngIf="el.nomvhi == 'SERVIENTREGA'" class="list-group-item list-group-item-success"><span style="font-weight:bold;">SERVIENTREGA</span></li>
							</ul> 
						  </td>
						  <!-- <td>{{el.serie}}</td> -->
						  <td *ngIf="el.tipodocumento =='01'">{{el.serie}}-{{el.faccli}}</td>
						  <td *ngIf="el.tipodocumento =='GR'">NO APLICA</td>
						  <td *ngIf="srv.getTipacc() =='T'">{{el.codusu}}</td>
						  <td *ngIf="srv.getTipacc() =='T'">{{el.nomcli}}</td>
						  <td>{{el.nomdestinatario}}</td>
						  <td *ngIf="srv.getActRegPlacaPDV() == 'SI'" >{{el.numplaca}}</td>
						  <td>{{el.nopiezas}}</td>
						  <td>{{el.totfac}}</td>
						  <td>{{el.peso}}</td>
					   <td *ngIf="srv.getTipacc() =='T'" >
						   <!-- <span *ngIf="" >{{el.totfac}}</span> -->
						    <ul class="list-group">
								<li *ngIf="el.conpag == 'E' && el.tipefe == 'E'" class="list-group-item list-group-item-success"><span style="font-weight:bold;">EFECTIVO</span></li>
								<li *ngIf="el.conpag == 'E' && el.tiptar == 'T'" class="list-group-item list-group-item-info"><span style="font-weight:bold;">TARJETA</span></li>
								<li *ngIf="el.conpag == 'E' && el.tipche == 'C'" class="list-group-item list-group-item-warning"><span style="font-weight:bold;">CHEQUE</span></li>
								<li *ngIf="el.conpag == 'E' && el.tiptrans == 'B'" class="list-group-item list-group-item-danger"><span style="font-weight:bold;">TRANSFERENCIA</span></li>
								<li *ngIf="el.conpag == 'C' && el.tipche == 'X' && el.tipefe =='X' && el.tiptar=='X'" class="list-group-item list-group-item-danger"><span style="font-weight:bold;">CREDITO</span></li>
							</ul> 
					   </td>
						<td class="text-center" *ngIf="srv.getTipacc() =='T' && el.factok == 'O' && el.status && (el.status == 'AUTORIZADO' && el.pdf)">
							<span style="color:blue;font-weight:bold" >{{el.status}}</span>
							<!-- <a class="tip btn btn-warning btn-xs" href="{{ el.pdf }}" target="blank" ><i class="fa fa-search" title="ver factura">Ver factura</i></a> -->
						</td>
						
						<td class="text-center" *ngIf=" srv.getTipacc() =='T' && el.factok == 'O' && el.status && (el.status == 'NO AUTORIZADO')">
						<span style="color:red;font-weight:bold" > {{el.status}}</span>
							<!-- <a class="tip btn btn-info btn-xs" data-toggle="modal" data-target="#series_modal2" ><i class="fa fa-search" title="ver factura"  (click)="error_sri=el.descripcionerror">VER ERROR</i></a> -->
						</td>
						
						<td class="text-center" *ngIf=" srv.getTipacc() =='T' && el.tipodocumento =='01' && el.factok == 'O' && !el.status" >
							<span style="color:green;font-weight:bold" >PENDIENTE AUTO</span>
						</td>

						<td class="text-center" *ngIf=" srv.getTipacc() =='T' && el.tipodocumento =='GR' && el.factok == 'O' && !el.status" >
							<span style="color:orange;font-weight:bold" >NO APLICA</span>
						</td>
						
						<td class="text-center" *ngIf=" srv.getTipacc() =='T'&&  el.factok == 'A' && !el.status" >
							<span style="color:red;font-weight:bold" >ANULADO</span>
						</td>
						
						<td class="text-center" *ngIf="srv.getTipacc() =='T' && el.factok == 'O' && el.status && (el.status !== 'NO AUTORIZADO' && el.status !== 'AUTORIZADO')" >
							<span style="color:red;font-weight:bold" >{{el.status}}</span>
						</td>
				<!-- ########################## COLUMNA DE GUIA #################### -->
						<td class="text-center" *ngIf="el.tracking">
							<span style="color:blue;font-weight:bold" >{{el.tracking}}</span>
							<!-- <a class="tip btn btn-warning btn-xs" href="{{ el.pdf }}" target="blank" ><i class="fa fa-search" title="ver factura">Ver factura</i></a> -->
						</td>
						<td class="text-center" *ngIf="!el.tracking">
							<span style="color:red;font-weight:bold" >GUIA PENDIENTE</span>
							<!-- <a class="tip btn btn-warning btn-xs" href="{{ el.pdf }}" target="blank" ><i class="fa fa-search" title="ver factura">Ver factura</i></a> -->
						</td>
			<!-- ########################## BARRA DE ACCIONES  #################### -->
						<td class="text-center" >
							<a *ngIf="el.factok == 'O' && el.status && (el.status == 'AUTORIZADO' && el.pdf)" 
							class="tip btn btn-warning btn-xs" href="{{ el.pdf }}" target="_blank" ><i class="fa fa-search" title="ver factura">Ver factura PDF</i>
							</a>
							
							<a *ngIf=" el.factok == 'O' && el.status && (el.status == 'NO AUTORIZADO' || el.status == 'DEVUELTA' )" (click)="error_sri=el.descripcionerror" class="tip btn btn-info btn-xs" data-toggle="modal" data-target="#series_modal2" >
							<i class="fa fa-exclamation-triangle" title="ver factura" >VER ERROR</i>
							</a>
					<!-- <a  routerLink="/admin/ingreso_articulos" [queryParams]="{usuario:usuario,empresa: empresa,numfac:el.numfac}" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar ingreso"></i></a> -->
							<!-- <br> -->
							<!-- <br> -->
					
					<!-- *ngIf="(!el.status) || (el.status == 'NO AUTORIZADO' || el.status == 'DEVUELTA' ) " -->
							
							
							<!-- <a *ngIf="el.factok == 'O' && (el.status == 'NO AUTORIZADO' || el.status == 'DEVUELTA' ) " routerLink="/admin/pos" [queryParams]="{usuario:usuario,empresa: empresa,numfac:el.numfac}" -->
							<!-- class="tip btn btn-success btn-xs" ><i class="fa fa-edit" title="Modificar">Modificar Factura</i> -->
							<a *ngIf="el.factok == 'O' && el.tracking" 
							class="tip btn btn-success btn-sm"  (click)="revision_guia_courier(el.tracking,el.nomvhi)" data-toggle="modal" data-target="#series_modal3" >
							<i class="fa fa-search" title="Status Guia">Status Guia <br> <strong>包裹追踪</strong> </i>
							</a>
							
							<a *ngIf="el.factok == 'O' && srv.getTipacc() =='P'" routerLink="/admin/solicitud_envio" [queryParams]="{usuario:usuario,empresa: empresa,numfac:el.numfac,tipotrans:el.tipodocumento}"
							class="tip btn btn-warning btn-sm" ><i class="fa fa-edit" title="Modificar">Revisar solicitud <br> <strong>查看发货申请</strong></i>
							</a>

							<a *ngIf="el.factok == 'O' && srv.getTipacc() =='T'" routerLink="/admin/solicitud_envio" [queryParams]="{usuario:el.codusu,empresa: empresa,numfac:el.numfac,tipotrans:el.tipodocumento}"
							class="tip btn btn-warning btn-sm" ><i class="fa fa-edit" title="Modificar">Revisar solicitud <br><strong>查看发货申请</strong></i>
							</a>

							<!--SECCION DE ACCIONES COURIER-->
							<a *ngIf="el.factok == 'O' && srv.getTipacc() =='T' && !el.tracking && el.nomvhi == 'LAARCOURIER'" (click)="transmitir_courier(el.numfac)"
							class="tip btn btn-success btn-sm" ><i class="fa fa-forward" title="Transmitir COURIER">Transmitir COURIER</i>
							</a>
							
							<a *ngIf="el.factok == 'O' && srv.getTipacc() =='T' && !el.tracking && el.nomvhi == 'SERVIENTREGA'" (click)="transmitir_courier_servientrega(el.numfac)"
							class="tip btn btn-success btn-sm" ><i class="fa fa-forward" title="Transmitir COURIER">Transmitir COURIER</i>
							</a>
<!-- 							<a *ngIf="el.factok == 'O' && el.tracking" 
							class="tip btn btn-danger btn-sm" href="{{ el.link_guia_pdf }}"  ><i class="fa fa-search" title="Ver Rotulo">Ver Rotulo Guia</i>
							</a> -->

<!-- 							<a *ngIf="el.factok == 'O' && el.tracking" 
							class="tip btn btn-danger btn-sm" [href]="'https://192.168.0.47:5009/ver_rotulo_laar?guia='+ el.tracking" target="_blank"  ><i class="fa fa-search" title="Ver Rotulo">Ver Rotulo Guia</i>
							</a> -->
							
							<a *ngIf="el.factok == 'O' && el.tracking && isMobile && el.nomvhi=='LAARCOURIER'" 
							class="tip btn btn-danger btn-sm" [href]="srv.apiUrl+':'+srv.port+'/ver_rotulo_laar?guia='+ el.tracking" target="_blank"  ><i class="fa fa-search" title="Ver Rotulo">Ver Rotulo Guia <br><strong>查看快递标签 </strong> </i>
							</a>
							<a *ngIf="el.factok == 'O' && el.tracking && !isMobile && el.nomvhi=='LAARCOURIER'" 
							class="tip btn btn-danger btn-sm" (click)="url_visor_pdf=srv.apiUrl+':'+srv.port+'/ver_rotulo_laar?guia='+ el.tracking;loading_iframe=true;ver_iframe=true" data-toggle="modal" data-target="#series_modal4" >
							<i class="fa fa-search" title="Rotulo Guia">Ver Rotulo Guia <br><strong>查看快递标签 </strong> </i>
							</a>
							<a *ngIf="el.factok == 'O' && el.tracking && !isMobile && el.nomvhi=='SERVIENTREGA'" 
							class="tip btn btn-danger btn-sm" (click)="url_visor_pdf=srv.apiUrl+':'+srv.port+'/ver_rotulo_serv?guia='+el.tracking;loading_iframe=true;ver_iframe=true" data-toggle="modal" data-target="#series_modal4" >
							<i class="fa fa-search" title="Rotulo Guia">Ver Rotulo Guia <br><strong>查看快递标签 </strong> </i>
							</a>
							<a *ngIf="el.factok == 'O' && el.tracking && isMobile && el.nomvhi=='SERVIENTREGA'" 
							class="tip btn btn-danger btn-sm" [href]="srv.apiUrl+':'+srv.port+'/ver_rotulo_serv?guia='+ el.tracking" target="_blank"  ><i class="fa fa-search" title="Ver Rotulo">Ver Rotulo Guia <br><strong>查看快递标签 </strong> </i>
							</a>
							
<!-- 							(click)="transmitir_courier_servientrega(el.numfac)" -->
							<a *ngIf="el.factok == 'O' && el.tipodocumento =='GR' && !el.tracking" (click)="anular_guia(el.numfac)" class="tip btn btn-info btn-sm" ><i class="fa fa-remove" title="Anular Guia">Anular Guia<br><strong>取消</strong></i>
							</a>

							<a *ngIf="el.factok == 'O' && srv.getConfAnularFactura() != 'NO' && el.tipodocumento =='01' && srv.getTipacc() =='T'" (click)="anular_factura(el.numfac)"
							class="tip btn btn-info btn-xs"><i class="fa fa-remove" title="AnularFactura">Anular factura</i>
							</a>
							
						</td>
						
		<!-- ########################## FIN  BARRA DE ACCIONES  #################### -->				

					
						  <!-- <td class=""> -->
						    <!-- <div class="text-center"> -->
                                <!-- <div class="btn-group"> -->

									<!-- <a *ngIf="srv.getConfEditPedido() != 'NO'" routerLink="/admin/ingreso_articulos" [queryParams]="{usuario:usuario,empresa: empresa,numfac:el.numfac}" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar ingreso"></i></a>  -->

								<!-- </div> -->
                            <!-- </div> -->
						  <!-- </td> -->
					  </tr>
					</tbody>
					<tfoot *ngIf="srv.getTipacc() =='T'">
						<tr>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th bgcolor="yellow">TOTALES</th>
						<th bgcolor="yellow">{{total_cajas}}</th>
						<th bgcolor="yellow">USD {{total_usd}}</th>
						<th></th>
						<th></th>
						<th></th>
						</tr>
					</tfoot>
 					<tfoot *ngIf="srv.getTipacc() =='P'">
						<tr>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th></th>
						<th bgcolor="yellow">TOTALES</th>
						<th bgcolor="yellow">{{total_cajas}}</th>
						<th bgcolor="yellow">USD {{total_usd}}</th>
						<th></th>
						<th></th>
						<th></th>
						</tr>
					</tfoot> 
				</table>
				
				<!--################## INICIO MODAL ###########################-->
			<div class="modal fade in" id="series_modal2"  data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
					
								  <div class="modal-dialog" role="document">
									<div class="modal-content">
									  <div class="modal-header">
										<button type="button" class="close"  data-dismiss="modal" #closeBtnError (click)="error_sri = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button>
										<h4 class="modal-title">Mensaje respuesta SRI</h4>
	
									  </div>
									  <div class="modal-body">
									  <div class="col-xs-12">
												<div class="form-group">
													<!-- <label>Dirección</label>									 -->
													<textarea  rows="12" name="error_sri" id="error_sri" [(ngModel)]="error_sri"  class="pa form-control kb-text"></textarea>
												</div>
											</div>
									  <div>
									


									</div>
									  </div>
										<div class="modal-footer">
										<!-- <span *ngIf="scan_result"> EXITOSO {{scan_value}} </span> -->
										<!-- <input type="submit" name="apagar_scan" (click)="scan=false" value="apagar scan" class="btn btn-danger"> -->
										<!-- <input type="submit" name="escanear" (click)="scannerEnabled=true"  value="escanear" class="btn btn-info"> -->
										<!-- <input type="submit" name="apagar escanear" (click)="scannerEnabled=false"  value="apagar escanear" class="btn btn-info"> -->
										
										<button type="button" class="btn btn-primary"  (click)="error_sri = undefined" data-dismiss="modal">Cerrar</button>
										</div>
									</div><!-- /.modal-content -->
								</div><!-- /.modal-dialog -->
			</div><!-- /.modal -->
<!--################## FIN MODAL ###########################-->
<!--################## INICIO MODAL3 ###########################-->
			<div class="modal fade in" id="series_modal3"  data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
				<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
					<button type="button" class="close"  data-dismiss="modal" #closeBtnError (click)="error_sri = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Status Guia / 包裹追踪</h4>

					</div>
					<div class="modal-body">

					<div *ngIf="loading_iframe" class="col-md-12">
						<div class="box box-primary">
						<div class="text-center box-header">
							<h3 class="box-title ">Cargando. Esperando guia....!!!!</h3>
						</div>
						<div class="box-body">
							<!-- The body of the box -->
						</div>
						<div class="overlay">
							<i class="fa fa-refresh fa-spin"></i>
						</div>
						<!-- end loading -->
						</div>
					</div>
					<div *ngIf="!loading_iframe" class="col-xs-12">
					<table class="courier-detail-table">
						<tbody>
							<tr>
								<th>Courier <span style="color:white;font-weight:bold">（快递公司）</span></th>
								<td>
									<span [ngClass]="{'status-pending': shipment.courier === 'LAARCOURIER', 'status-completed': shipment.courier === 'SERVIENTREGA'}">
										{{ shipment.courier }}
									</span>
								</td>
							</tr>
							<tr>
								<th>N° Guía <span style="color:white;font-weight:bold">（运单号）</span></th>
								<td>{{ shipment.noGuia }}</td>
							</tr>
							<tr>
								<th>Ciudad Origen <span style="color:white;font-weight:bold">（发货城市）</span></th>
								<td>{{ shipment.ciudadOrigen }}</td>
							</tr>
							<tr>
								<th>Ciudad Destino <span style="color:white;font-weight:bold">（收货城市）</span></th>
								<td>{{ shipment.ciudadDestino }}</td>
							</tr>
							<tr>
								<th>Producto <span style="color:white;font-weight:bold">（产品）</span></th>
								<td>{{ shipment.producto }}</td>
							</tr>
							<tr>
								<th>Destinatario <span style="color:white;font-weight:bold">（收件人）</span></th>
								<td>{{ shipment.para }}</td>
							</tr>
							<tr>
								<th>Dirección Destino <span style="color:white;font-weight:bold">（收货地址）</span></th>
								<td>{{ shipment.direccionDestino }}</td>
							</tr>
							<tr>
								<th>Teléfono 1 <span style="color:white;font-weight:bold">（电话 1）</span></th>
								<td>{{ shipment.telefonoDestino }}</td>
							</tr>
							<tr>
								<th>Teléfono 2 <span style="color:white;font-weight:bold">（电话 2）</span></th>
								<td>{{ shipment.telefonoDestino2 }}</td>
							</tr>
							<tr>
								<th>N° Envios <span style="color:white;font-weight:bold">（寄送件数）</span></th>
								<td>{{ shipment.numeroEnvios }}</td>
							</tr>
							<tr>
								<th>Peso (Kg) <span style="color:white;font-weight:bold">（重量（公斤））</span></th>
								<td>{{ shipment.pesoKilos }}</td>
							</tr>
							<tr>
								<th>Estado <span style="color:white;font-weight:bold">（状态）</span></th>
								<td>
									<span [ngClass]="{'status-pending': shipment.estadoActual != 'Entregado' , 'status-completed': shipment.estadoActual === 'Entregado'}">
										{{ shipment.estadoActual }}
									</span>
<!-- 									<a class="tip btn btn-success btn-sm" href="https://fenixoper.laarcourier.com/Tracking/Guiacompleta.aspx?guia={{shipment.noGuia}}" target="_blank">
										<i class="fa fa-search" title="Revisar Guia">Revisar en Courier</i>
									</a> -->

									<a class="tip btn btn-success btn-sm" href="{{shipment.link_courier}}" target="_blank">
										<i class="fa fa-search" title="Revisar Guia">Revisar en Courier</i>
									</a>
								</td>
							<tr>
								<th>Fecha Entrega <span style="color:white;font-weight:bold">（交货日期）</span></th>
								<td>{{ shipment.destinatarioFecha }}</td>
							</tr>
						</tbody>
					</table>
					</div>
				<div>
			</div>
				</div>
				<div class="modal-footer">
					<!-- 	<button type="button" class="btn btn-success"  (click)="traducir_chino_status()">Traducir a chino(翻译成中文)</button> -->
						<button type="button" class="btn btn-primary"  (click)="error_sri = undefined" data-dismiss="modal">Cerrar</button>
				</div>
			</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
			</div><!-- /.modal -->
<!--################## FIN MODAL3 ###########################-->
<!--################## INICIO MODAL4 ###########################-->
<div class="modal fade in" id="series_modal4" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" #closeBtnError (click)="ver_iframe = false" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Ver rotulo</h4>
      </div>
      
      <div class="modal-body">

		<div *ngIf="loading_iframe" class="col-md-12">
			<div class="box box-primary">
			<div class="text-center box-header">
				<h3 class="box-title ">Cargando. Esperando guia....!!!!</h3>
			</div>
			<div class="box-body">
				<!-- The body of the box -->
			</div>
			<div class="overlay">
				<i class="fa fa-refresh fa-spin"></i>
			</div>
			<!-- end loading -->
			</div>
		</div>
        <div  class="col-xs-12">
          <!-- Aquí va el visor -->
<!--           <iframe [src]="'https://192.168.0.47:5009/ver_rotulo_laar?guia=SISLC51081468#zoom=120' | safeUrl" width="100%" height="600px" frameborder="0"></iframe> -->
<!-- 		    <iframe  [hidden]="loading_iframe" [src]="url_visor_pdf+'#zoom=120' | safeUrl" width="100%" height="600px" frameborder="0" (load)="onIframeLoad()"></iframe>  -->
		  		    <iframe  *ngIf="ver_iframe" [src]="url_visor_pdf+'#zoom=120' | safeUrl" width="100%" height="600px" frameborder="0" (load)="onIframeLoad()"></iframe> 
        </div>
      
	
	</div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="ver_iframe = false" data-dismiss="modal">Cerrar</button>
      </div>
      
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!--################## FIN MODAL3 ###########################-->
	
					</div>
				</div>
				

			</div>
        </div>
	
<!-- 		<div class="col-xs-12">
            <div class="box box-primary">
				<div class="box-header">
					<label for="reference">SELECCIONE RANGO DE FECHA DE CREACION DEL ENVIO / <span style="color:red;font-weight:bold">按发货创建日期搜索</span></label>
                </div>
			</div>
		</div> -->
   </div>
</section>
  <!-- /.content -->
</div>
