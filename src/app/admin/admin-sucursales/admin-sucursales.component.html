<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      <!-- Page Header 1111 -->
	   Sucursales
      <small>Consulta de los pedidos generado por el usuario</small>
    </h1>
    <ol class="breadcrumb">
      <li><i class="fa fa-dashboard"></i>Pedidos</li>
      <li class="active">Lista de pedidos</li>
    </ol>
  </section>
  
    <!-- <div *ngIf="success" class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="alert alert-dismissable"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="alert alert-success alert-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button> -->
            <!-- <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Pedido agregado con éxito  -->
		<!-- </div> -->
    <!-- </div> -->
	
	<!-- <div *ngIf="success_act" class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="alert alert-dismissable"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="alert alert-success alert-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button> -->
            <!-- <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Pedido actualizado con éxito  -->
		<!-- </div> -->
    <!-- </div> -->
	
	<!-- <div *ngIf="espera_correo_facturacion"  class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="callout callout-warning"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="callout callout-warning warning-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button> -->
            <!-- <h4><i class="icon fa fa-warning"></i> Enviándo correo por favor espere ..!!!</h4>Enviando correo al Departamento de Facturación...!!! -->
		<!-- </div> -->
    <!-- </div> -->
	
	<!-- <div *ngIf="espera_exitoso_facturacion"   class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="alert alert-dismissable"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="alert alert-success alert-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button> -->
            <!-- <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Departamento de Facturación...!!! -->
		<!-- </div> -->
    <!-- </div> -->
	
	<!-- <div *ngIf="espera_correo_pedido"  class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="callout callout-warning"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="callout callout-warning warning-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button> -->
            <!-- <h4><i class="icon fa fa-warning"></i> Enviándo correo por favor espere ..!!!</h4>Enviando correo al Cliente...!!! -->
		<!-- </div> -->
    <!-- </div> -->
	
	<!-- <div *ngIf="espera_exitoso_pedido"   class="col-lg-12 alerts"> -->
        <!-- <div id="custom-alerts" style="display:none;"> -->
            <!-- <div class="alert alert-dismissable"> -->
                <!-- <div class="custom-msg"></div> -->
            <!-- </div> -->
        <!-- </div> -->
        <!-- <div class="alert alert-success alert-dismissable"> -->
            <!-- <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button> -->
            <!-- <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Cliente...!!! -->
		<!-- </div> -->
    <!-- </div> -->

<section class="content">
    <div class="row">
	
	
	    <div class="col-xs-12">
            <div class="box box-primary">
                <div class="box-header">
                    <h3 class="box-title">Por favor ingresar la razón social para consultar sus sucursales</h3>
                </div>
                <div class="box-body">
				
				
				        <div class="row">
					
							<div class="col-md-8">
                                <div class="form-group">
								<!-- <label for="reference">BUSQUEDA POR RAZON SOCIAL</label> -->
								<input type="text" placeholder="Ingrese razón social" name="razon social" value="" class="form-control tip" id="razon social" (keyup.enter)="busqueda_razon_social()"  [(ngModel)]="patron_cliente">
								<!-- <input type="submit" name="busqueda_razon_social" value="Buscar razon social" class="btn btn-primary" (click)="busqueda_razon_social()"> -->
								</div>
                            </div>
							<div class="col-md-2">
							<!-- <br>  -->
							<input type="submit" name="busqueda_razon_social" value="Buscar razon social" class="btn btn-primary" (click)="busqueda_razon_social()">
							</div>
							
							
							
							
                        </div>
						
						<div class="form-group"  *ngIf="this.exist_razon_social">
						<p>Resultado de la busqueda por <<{{this.patron_cliente}}>></p>
						<div class="table-responsive-pedidos">
							<table class="table table-striped table-bordered table-condensed table-hover dataTable">
							   <thead>
								  <tr class="active" role="row">
									 <th>Razon Social</th>
									 <th class="text-center">Tipo ident</th>
									 <th class="text-center">Num Identificacion</th>
									 <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1" >Selec</th>
								  </tr>
							   </thead>
								<tbody>
								  <tr  *ngFor="let rz of razon_social_lista;">
									 <td>{{rz.nomcli}}</td>
									 <td class="text-center">{{rz.tpIdCliente}}</td>
									 <td class="text-center">{{rz.rucced}}</td>
									 <td class="text-center"> 
									  <input  type="radio"  name="radio_cliente" (change)="buscar_sucursales(rz.nomcli,rz.codcli)"  />
									  
									  <!-- <input type="radio" name="optionsRadios" id="optionsRadios1" [(ngModel)]="check_agencia" (change)="validar_exist_agencia('P')"  value="principal"> -->
									 </td>
								  </tr>
								</tbody>
							</table>
						</div>
						</div>
						
						<div class="form-group"  *ngIf="this.exist_sucursales">
						<div class="table-responsive">
							<!-- <table class="table table-striped table-bordered table-condensed table-hover dataTable"> -->
							   <!-- <thead> -->
								  <!-- <tr class="active" role="row"> -->
									 <!-- <th class="text-center">Tipo Agencia</th> -->
									 <!-- <th class="text-center">Direcc / Nombre Comercial Sucursal</th> -->
									 <!-- <th class="text-center">Ruta</th> -->
									 <!-- <!-- <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1" >Selec</th> --> 
								  <!-- </tr> -->
							   <!-- </thead> -->
								<!-- <tbody> -->
								  <!-- <tr  *ngFor="let sucursales of lista_sucursales;"> -->
									 <!-- <td class="text-center">{{sucursales.tipo_agencia}}</td> -->
									 <!-- <td class="text-center">{{sucursales.dir_agencia}}</td> -->
									 <!-- <td class="text-center">{{sucursales.ruta}}</td> -->
									 <!-- <!-- <td class="text-center">  --> -
									  <!-- <!-- <input  type="radio"  name="radio_cliente" (change)="buscar_sucursales(rz.tpIdCliente,rz.rucced,rz.nomcli,rz.email,rz.codcli,rz.dircli)"  /> --> 
									 <!-- <!-- </td> --> 
								  <!-- </tr> -->
								<!-- </tbody> -->
							<!-- </table> -->
							
							
							
							
				<table *ngIf="(this.exist_sucursales && !loading )"  datatable [dtOptions]="dtOptions" class="table table-striped table-bordered table-condensed table-hover dataTable"> 
						<thead>
								  <tr class="active" role="row">
									 <th class="text-center">Tipo Agencia</th>
									 <th class="text-center">Direcc / Nombre Comercial Sucursal</th>
									 <th class="text-center">Ruta</th>
									 <!-- <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1" >Selec</th> -->
								  </tr>
					  </thead>
					  
					<tbody>
							<tr  *ngFor="let sucursales of lista_sucursales_datatable;">
									 <td class="text-center">{{sucursales.tipo_agencia}}</td>
									 <td class="text-center">
									 <!-- {{sucursales.dir_agencia}} -->
									 
									 <div *ngIf="sucursales!== edit_direcc" class="text-center">{{sucursales.dir_agencia}} <a  *ngIf="sucursales!== edit_direcc"  (click)="edit_dir_sucursal(sucursales)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar Direcc"></i></a></div>
									 
									 <!-- *ngIf="el===edit_iva_art" -->
									 
									 <input  *ngIf="sucursales===edit_direcc" #dirr  placeholder="Ingrese nueva direccion para esta agencia" class="form-control input-sm kb-pad text-center rquantity" name="dirr" type="text"  
										value="{{sucursales.dir_agencia}}" (keyup.enter)="update_dato_sucursal(sucursales.id_agencia, dirr.value,'D')" (blur)="update_dato_sucursal(sucursales.id_agencia, dirr.value,'D')">
									 
									 
									 
									 <!-- edit_direcc -->
									 <!-- <div  class="text-center">{{el.poriva}} <a *ngIf="el!== edit_iva_art" (click)="edit_iva_articulo(el)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar iva"></i></a></div> -->
									 
									 </td>
									 <td class="text-center">
									 <!-- {{sucursales.ruta}} -->
									 
									 <div *ngIf="sucursales!== edit_ruta" class="text-center">{{sucursales.ruta}} <a *ngIf="sucursales!== edit_ruta" (click)="edit_ruta_sucursal(sucursales)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar ruta"></i></a></div>
									 <!-- <div *ngIf="sucursales!== edit_ruta" class="text-center">{{sucursales.ruta}} <a  *ngIf="sucursales!== edit_ruta"  (click)="edit_ruta_sucursal(sucursales)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar Direcc"></i></a></div> -->
									 
									<!-- EL QUE SIRVE -->
									<select *ngIf="sucursales===edit_ruta" #ruta  name="change_iva" class="form-control" (change)="update_dato_sucursal(sucursales.id_agencia, ruta.value,'R')">
									<option [ngValue]="undefined" disabled  selected>Seleccione ruta</option>
									<option  *ngFor="let e of lista_rutas; let i = index;"  [value]="e.idruta" >{{e.nombre_ruta}}</option>
									</select>
									 
									 
									 
									 
									 
									 
									 
									 
									 </td>
									 
									 
									 
									 
									 
									 
									 <!-- <td class="text-center">  -->
									  <!-- <input  type="radio"  name="radio_cliente" (change)="buscar_sucursales(rz.tpIdCliente,rz.rucced,rz.nomcli,rz.email,rz.codcli,rz.dircli)"  /> -->
									 <!-- </td> -->
							</tr>
						  <!-- <td class=""> -->
						    <!-- <div class="text-center"> -->
                                <!-- <div class="btn-group"> -->
									<!-- <!-- {{auth.getConfPV()}} {{srv.getConfCorreoPedCli() }} --> 
									<!-- <!-- *ngIf="auth.getConfPV() != 'NO'"   getConfEditPedido--> 
									<!-- <!-- <a onclick="window.open('http://amort.lavisita360.com/purchases/view/6', 'pos_popup', 'width=900,height=600,menubar=yes,scrollbars=yes,status=no,resizable=yes,screenx=0,screeny=0'); return false;" href="#"  class="tip btn btn-primary btn-xs"><i class="fa fa-file-text-o" title="Ver pedido" ></i></a>  --> 
									<!-- <a routerLink="/admin/ver_pedidos" [queryParams]="{usuario:usuario,empresa: empresa,pedido:el.numtra,sucursal:el.direccion_entrega}"  class="tip btn btn-primary btn-xs"><i class="fa fa-file-text-o" title="Ver pedido"></i></a>  -->
									<!-- <a *ngIf="srv.getConfEditPedido() != 'NO'" routerLink="/admin/editar_pedidos" [queryParams]="{usuario:usuario,empresa: empresa,pedido:el.numtra}" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar pedido"></i></a>  -->
									<!-- <!-- <a href="http://amort.lavisita360.com/purchases/delete/6" onclick="return confirm('Usted va a eliminar la compra, por favor haga clic en Aceptar para eliminar.')" title="" class="tip btn btn-danger btn-xs" data-original-title="Eliminar Compra"><i class="fa fa-trash-o"></i></a> --> 
									<!-- <a *ngIf="srv.getConfCorreoFact() != 'NO'" (click)="correo_facturacion(el.numtra,el.nomcli)" class="tip btn btn-danger btn-xs" ><i class="fa fa-envelope" title="Enviar correo facturar pedido" ></i></a> -->
									<!-- <!-- <a (click)="confirm_delete()"   class="tip btn btn-danger btn-xs" ><i class="fa fa-envelope" title="Enviar correo facturar pedido" ></i></a> --> 
									
									<!-- <a *ngIf="srv.getConfCorreoPedCli() != 'NO'" (click)="correo_pedido(el.numtra,el.nomcli,el.email)"  class="tip btn btn-success btn-xs" ><i class="fa fa-envelope" title="Reenviar correo pedido" ></i></a> -->
								<!-- </div> -->
                            <!-- </div> -->
						  <!-- </td> -->
					  <!-- </tr> -->
					</tbody> 
				</table>
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
							
						</div>
						
						
						
						
						
						</div>
						

				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				<div class="table-responsive">
				<!-- <table *ngIf="!loading" datatable class="row-border hover">  -->
					<div *ngIf="loading" class="col-md-12">
						  <div class="box box-primary">
							<div class="text-center box-header">
							  <h3 class="box-title ">Cargando. Generando tabla....!!!!</h3>
							</div>
							<div class="box-body">
							  <!-- The body of the box -->
							</div>
							<div class="overlay">
							  <i class="fa fa-refresh fa-spin"></i>
							</div>
							<!-- end loading -->
						  </div>
						  <!-- /.box -->
					</div>
				
				<!-- <table *ngIf="!loading" datatable [dtOptions]="dtOptions" class="table table-striped table-bordered table-condensed table-hover dataTable">  -->
						<!-- <thead> -->
						<!-- <tr> -->
						  <!-- <th>Fecha</th> -->
						  <!-- <th>No. Doc</th> -->
						  <!-- <th>Vendedor</th> -->
						  <!-- <th>Cliente</th> -->
						  <!-- <th>Email</th> -->
						  <!-- <th>Total con IVA (USD)</th> -->
						  <!-- <th>Observación</th> -->
						  <!-- <th>Estado</th> -->
						  <!-- <th>Fecha/hora entrega</th> -->
						  <!-- <th>Direcc entrega</th> -->
						  <!-- <th>Ruta</th> -->
						  <!-- <th style="width:95px;" role="columnheader" rowspan="1" colspan="1" >Acciones</th> -->
						  
						<!-- </tr> -->
					  <!-- </thead> -->
					  
					<!-- <tbody *ngIf="(lista_pedidos?.length != 0) && (!loading) "> -->
					  <!-- <tr *ngFor="let el of lista_pedidos;"> -->
						  <!-- <td>{{el.fectra}}</td> -->
						  <!-- <td>{{el.numtra}}</td> -->
						  <!-- <td>{{el.nomusu}}</td> -->
						  <!-- <td>{{el.nomcli}}</td> -->
						  <!-- <td>{{el.email}}</td> -->
						  <!-- <td>{{el.total_iva}}</td> -->
						  <!-- <td>{{el.observ}}</td> -->
						  <!-- <td>{{el.status}}</td> -->
						  <!-- <td *ngIf="el.fecha_entrega">{{el.fecha_entrega}} / {{el.hora_entrega}}</td> -->
						  <!-- <td *ngIf="!el.fecha_entrega" class="text-center" style="color:red">POR PLANIFICAR</td> -->
						  <!-- <td>{{el.direccion_entrega}}</td> -->
						  <!-- <td>{{el.ruta}}</td> -->
						  <!-- <td class=""> -->
						    <!-- <div class="text-center"> -->
                                <!-- <div class="btn-group"> -->
									<!-- <!-- {{auth.getConfPV()}} {{srv.getConfCorreoPedCli() }} --> 
									<!-- <!-- *ngIf="auth.getConfPV() != 'NO'"   getConfEditPedido--> 
									<!-- <!-- <a onclick="window.open('http://amort.lavisita360.com/purchases/view/6', 'pos_popup', 'width=900,height=600,menubar=yes,scrollbars=yes,status=no,resizable=yes,screenx=0,screeny=0'); return false;" href="#"  class="tip btn btn-primary btn-xs"><i class="fa fa-file-text-o" title="Ver pedido" ></i></a>  --> 
									<!-- <a routerLink="/admin/ver_pedidos" [queryParams]="{usuario:usuario,empresa: empresa,pedido:el.numtra,sucursal:el.direccion_entrega}"  class="tip btn btn-primary btn-xs"><i class="fa fa-file-text-o" title="Ver pedido"></i></a>  -->
									<!-- <a *ngIf="srv.getConfEditPedido() != 'NO'" routerLink="/admin/editar_pedidos" [queryParams]="{usuario:usuario,empresa: empresa,pedido:el.numtra}" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar pedido"></i></a>  -->
									<!-- <!-- <a href="http://amort.lavisita360.com/purchases/delete/6" onclick="return confirm('Usted va a eliminar la compra, por favor haga clic en Aceptar para eliminar.')" title="" class="tip btn btn-danger btn-xs" data-original-title="Eliminar Compra"><i class="fa fa-trash-o"></i></a> --> 
									<!-- <a *ngIf="srv.getConfCorreoFact() != 'NO'" (click)="correo_facturacion(el.numtra,el.nomcli)" class="tip btn btn-danger btn-xs" ><i class="fa fa-envelope" title="Enviar correo facturar pedido" ></i></a> -->
									<!-- <!-- <a (click)="confirm_delete()"   class="tip btn btn-danger btn-xs" ><i class="fa fa-envelope" title="Enviar correo facturar pedido" ></i></a> --> 
									
									<!-- <a *ngIf="srv.getConfCorreoPedCli() != 'NO'" (click)="correo_pedido(el.numtra,el.nomcli,el.email)"  class="tip btn btn-success btn-xs" ><i class="fa fa-envelope" title="Reenviar correo pedido" ></i></a> -->
								<!-- </div> -->
                            <!-- </div> -->
						  <!-- </td> -->
					  <!-- </tr> -->
					<!-- </tbody>  -->
				<!-- </table> -->
				
					
	
					</div>
				</div>
			</div>
        </div>
   </div>
</section>
  <!-- /.content -->
</div>
