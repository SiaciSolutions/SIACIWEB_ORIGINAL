<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      <!-- Page Header 1111 -->
	   Lista de facturas despachadas
      <small>Consulta de las facturas listas para autorizar</small>
    </h1>
    <ol class="breadcrumb">
      <li><i class="fa fa-dashboard"></i>Despacho facturas</li>
      <li class="active">Lista de facturas a autorizar</li>
    </ol>
  </section>
  
    <div *ngIf="success" class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Pedido agregado con éxito 
		</div>
    </div>
	
	<div *ngIf="success_act" class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Pedido actualizado con éxito 
		</div>
    </div>
	
	<div *ngIf="espera_correo_facturacion"  class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="callout callout-warning">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="callout callout-warning warning-dismissable">
            <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button>
            <h4><i class="icon fa fa-warning"></i> Enviándo correo por favor espere ..!!!</h4>Enviando correo al Departamento de Facturación...!!!
		</div>
    </div>
	
	<div *ngIf="espera_exitoso_facturacion"   class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Departamento de Facturación...!!!
		</div>
    </div>
	
	<div *ngIf="espera_correo_pedido"  class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="callout callout-warning">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="callout callout-warning warning-dismissable">
            <button aria-hidden="true" data-dismiss="callout" class="close" type="button">X</button>
            <h4><i class="icon fa fa-warning"></i> Enviándo correo por favor espere ..!!!</h4>Enviando correo al Cliente...!!!
		</div>
    </div>
	
	<div *ngIf="espera_exitoso_pedido"   class="col-lg-12 alerts">
        <div id="custom-alerts" style="display:none;">
            <div class="alert alert-dismissable">
                <div class="custom-msg"></div>
            </div>
        </div>
        <div class="alert alert-success alert-dismissable">
            <button aria-hidden="true" data-dismiss="alert" class="close" type="button">X</button>
            <h4>	<i class="icon fa fa-check"></i> Éxito</h4> Correo enviado con exito al Cliente...!!!
		</div>
    </div>

<section class="content">
    <div class="row">
	
	
	    <div class="col-xs-12">
            <div class="box box-primary">
                <!-- <div class="box-header"> -->
                    <!-- <h3 class="box-title">Utilice la tabla siguiente para navegar o filtrar los resultados.</h3> -->
                <!-- </div> -->
				
				<div class="box-header">
					<label for="reference">SELECCIONE RANGO DE FECHA DE FACTURA DE VENTA /EGRESO BODEGA </label>
                </div>
				 <div class="box-header text-left">
				 <!-- <div class="col-md-1"> -->
				 <!-- <span class="info-box-icon bg-aqua"><i class="fa fa-fw fa-user-secret"></i></span> -->
				 <!-- </div> -->
				 
				  <div class="col-md-3">
								<!-- <mat-form-field> -->
								<!-- <!-- <input matInput [matDatepicker]="picker" placeholder="Desde" [(ngModel)]="fecha_desde" name="fecha_desde" > --> 
								<!-- <input matInput [matDatepicker]="picker" placeholder="Desde"  name="fecha_desde" [formControl]="fecha_desde" > -->
								<!-- <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle> -->
								<!-- <mat-datepicker #picker></mat-datepicker> -->
								<!-- </mat-form-field> -->
								<label for="fecha_desde">Fecha desde: </label>
								<input [(ngModel)]="fecha_desde" type="date" name="fecha_desde" placeholder="dd-mm-yyyy" value="" min="1997-01-01" max="2030-12-31">
								
				 </div>

				 <div class="col-md-3">
								<!-- <mat-form-field> -->
								<!-- <!-- <input matInput [matDatepicker]="picker2" placeholder="Hasta" [(ngModel)]="fecha_hasta" name="fecha_hasta"  > --> 
								<!-- <input matInput [matDatepicker]="picker2" placeholder="Hasta"  name="fecha_hasta" [formControl]="fecha_hasta" > -->
								<!-- <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle> -->
								<!-- <mat-datepicker #picker2></mat-datepicker> -->
								<!-- </mat-form-field> -->
								<label for="fecha_hasta">Fecha hasta: </label>
								<input [(ngModel)]="fecha_hasta" type="date" name="fecha_hasta" placeholder="dd-mm-yyyy" value="" min="1997-01-01" max="2030-12-31">
				 </div>
				
				<div class="col-md-2">
							<br>
							<input  type="submit" (click)="buscar_factura_fecha()"  name="Buscar" value="Buscar por fecha" class="btn btn-primary">
				</div>
				
				
				<!-- <div class="col-md-4"> -->
					<!-- <label for="fecha_desde">Tipo de documento </label> -->
					<!-- <div class="input-group"> -->
						<!-- <select name="tipo_inventario" [(ngModel)]="tipo_origen" class="form-control select2 tip" style="width:100%;"> -->
						<!-- <option [ngValue]="undefined" disabled selected>Seleccione Doc Origen</option> -->
						<!-- <option *ngFor="let e of tipo_doc_origen; let i = index;" [value]="e.tipo">{{e.descripcion}}</option> -->
						<!-- </select> -->
						
						<!-- <!-- <input type="text" placeholder="Ingrese NUM FACT/EGRESO" name="numfac_egreso" value="" class="form-control tip" id="numfac_egreso social" (keyup.enter)="busqueda_razon_social()"   [(ngModel)]="patron_proveedor"> --> 
						
						<!-- <div  class="input-group-addon no-print" style="padding: 2px 5px;"> -->
							<!-- <a  (click)="busqueda_egreso()" id="add-customer" class="external"><i class="fa fa-2x fa-search" id="addIcon"></i></a> -->
						<!-- </div> -->
					<!-- </div> -->
				
				<!-- </div> -->
				
				
			</div>
				

				
				<!-- <div class="box-header"> -->
					<!-- <div class="col-md-4"> -->
					  <!-- <h3 class="box-title">Filtrar por fecha de entrega del pedido</h3> -->
						<!-- <mat-form-field> -->
						<!-- <input matInput [matDatepicker]="picker" placeholder="Escoja fecha" [(ngModel)]="fecha_entrega_busqueda" name="fectra" > -->
						<!-- <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle> -->
						<!-- <mat-datepicker #picker></mat-datepicker> -->
						<!-- </mat-form-field> -->
					<!-- <button  type="button" id="filtrar_fecha_entrega" (click)="buscar_fecha_entrega()" class="btn btn-primary" title="filtrar" ><i class="fa fa-fw fa-search"></i></button> -->
					<!-- <button  type="button" id="ver_listado_completo" (click)="ver_listado_completo()" class="btn btn-warning" title="filtrar" >Ver todo el listado</button> -->
					<!-- </div> -->
                <!-- </div> -->
				
                <div class="box-body">
				<div class="table-responsive">
				<!-- <table *ngIf="!loading" datatable class="row-border hover">  -->
					<div *ngIf="loading" class="col-md-12">
						  <div class="box box-primary">
							<div class="text-center box-header">
							  <h3 class="box-title ">Cargando. Generando tabla....!!!!</h3>
							</div>
							<div class="box-body">
							  <!-- The body of the box -->
							</div>
							<div class="overlay">
							  <i class="fa fa-refresh fa-spin"></i>
							</div>
							<!-- end loading -->
						  </div>
						  <!-- /.box -->
					</div>
				
				<table *ngIf="!loading && ver_factura" datatable [dtOptions]="dtOptions" class="table table-striped table-bordered table-condensed table-hover dataTable"> 
						<thead>
						<tr>
						  <th>Fecha</th>
						  <!-- <th>Serie</th> -->
						  <th>No</th>
						  <!-- <th>Almacen</th> -->
						  <th>Cliente</th>
						  <th>Total(USD)</th>
						    <!-- <th>Estado</th> -->
						  <!-- <th>Observación</th> -->

						  <th style="width:95px;" role="columnheader" rowspan="1" colspan="1" >Acciones</th>
						  
						</tr>
					  </thead>
					  
					<tbody *ngIf="(lista_pedidos?.length != 0) && (!loading) ">
					  <tr *ngFor="let el of lista_pedidos;">
						  <td>{{el.fecfac}}</td>
						   <!-- <td>{{el.serie}}</td> -->
						  <td>{{el.faccli}}</td>
						  <!-- <td>{{el.nomalm}}</td> -->
						   <td>{{el.nombres}}</td>
						      <td class="text-center">{{el.totfac}}</td>
						   <!-- <td *ngIf="el.estado == 'P'" >Pendiente despacho</td> -->
						   <!-- <td>{{el.observ}}</td> -->
				
						  <td class="">
						    <div class="text-center">
                                <div class="btn-group">
									<a (click) = "autorizar_factura(el.idfactura)" class="tip btn btn-danger btn-xs"><i class="fa fa-2x fa-check" title="Autorizar"></i>Autorizar</a>
								
								</div>
                            </div>
						  </td>
					  </tr>
					</tbody> 
				</table>


	
					</div>
				</div>
			</div>
        </div>
   </div>
</section>
  <!-- /.content -->
</div>
