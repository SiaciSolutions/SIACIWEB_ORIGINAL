<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1 *ngIf="!accion_actualizar">
	   Agregar Orden de facturación
      <small>Creación de orden de facturación de pacientes</small>
    </h1>
	
	<h1 *ngIf="accion_actualizar">
	   Actualizar Orden de facturación {{numtra}}
      <!-- <small>Actualizacion de los pedidos</small> -->
    </h1>
	
    <ol class="breadcrumb">
      <li><i class="fa fa-dashboard"></i>Orden facturación</li>
      <li class="active">Agregar orden facturación</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">

    <!-- Your Page Content Here -->
	
	
	 <div class="row">
        <div class="col-xs-12">
            <!-- <div class="box box-primary"> -->
                <!-- <div class="box-header"> -->
                    <!-- <h3 class="box-title">Por favor, rellene la siguiente información</h3> -->
                <!-- </div> -->
				
				
			<div class="nav-tabs-custom" *ngIf="!loading_modulo">
            <ul class="nav nav-tabs">
			    <!-- <li id="facturacion"   class="active" #facturacion ><a href="#tab_facturacion" data-toggle="tab" style="font-weight:bold;color:red" (click)="cambio_vista_cliente('false')" >FACTURACIÓN</a></li> -->
                <!-- <li id="crear_cliente" #crear_cliente ><a href="#tab_crear_cliente"  data-toggle="tab" style="font-weight:bold;color:blue" (click)="cambio_vista_cliente('true')" >CREACIÓN CLIENTE</a></li> -->
				
				<li id="facturacion"   class="active" #facturacion ><a href="#tab_facturacion" data-toggle="tab" style="font-weight:bold;color:red" >ORDEN FACTURACIÓN</a></li>
                <li id="crear_cliente" #crear_cliente ><a href="#tab_crear_cliente"  data-toggle="tab" style="font-weight:bold;color:blue" >CREACIÓN PACIENTE</a></li>
			</ul>
			
			<div class="tab-content">
			<div class="tab-pane active" id="tab_facturacion" #tab_facturacion >
				
				
				
                <div class="box-body">
                    <div class="col-lg-12">
                        <form class="validation fv-form fv-form-bootstrap" enctype="multipart/form-data" method="post" accept-charset="utf-8" novalidate="novalidate">
						
						<button type="submit" class="fv-hidden-submit" style="display: none; width: 0px; height: 0px;"></button>
					<!-- <input type="hidden" name="spos_token" value="63b87f6a60dc5db5380a9ae6f8ae9725" style="display:none;"> -->
                        <div class="row">
                            <!-- <div class="col-md-2"> -->
                                <!-- <div class="form-group"> -->
                                    <!-- <label for="date">FECHA CREACION</label> -->
									<!-- <input type="text" name="date" value="{{fectra}}" class="form-control tip" id="date" required="required" disabled> -->
								<!-- </div> -->
                            <!-- </div> -->
							<div class="col-md-3">
                                <div class="form-group">
                                    <label for="date">FECHA CREACION
									<!-- <a *ngIf="!edit_fecha_creacion"  (click)="edit_fecha_creacion = true" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar fecha de creacion"></i></a>  -->
									</label>
									<input *ngIf="!edit_fecha_creacion" type="text" name="date" value="{{formato_fecha(this.fectra['value'])}}" class="form-control tip" id="date" required="required" disabled>
										
								
								<mat-form-field *ngIf="edit_fecha_creacion">
								<input matInput [matDatepicker]="picker" placeholder="Escoja fecha" [formControl]="fectra" name="fectra" >
								<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
								<mat-datepicker #picker></mat-datepicker>
								</mat-form-field>
								
								</div>
                            </div>
							
							
							<!-- <div class="col-md-2"> -->
                                <!-- <div class="form-group"> -->
                                    <!-- <label >FECHA DE ENTREGA -->

								<!-- </label> -->
								
								<!-- <!-- <mat-form-field *ngIf="edit_fecha_entrega"> --> 
								<!-- <mat-form-field *ngIf="exist_fecha_entrega"> -->
								<!-- <input matInput [matDatepicker]="picker" placeholder="Escoja fecha" [formControl]="fecha_entrega" > -->
								<!-- <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle> -->
								<!-- <mat-datepicker #picker></mat-datepicker> -->
								<!-- </mat-form-field> -->
								
								<!-- <!-- <h4 style="color:red;" *ngIf="!exist_fecha_entrega">POR PLANIFICAR</h4> --> 
								
								<!-- </div> -->
								
								<!-- <!-- <button type="button" id="busqueda_razon_social" (click)="busqueda_razon_social()" class="btn btn-primary" title="Buscar razon social" ><i class="fa fa-fw fa-search"></i></button> --> 
								
								
								
                            <!-- </div> -->
							
							<!-- <div class="col-md-2"> -->
							<!-- <br>  -->
		
							<!-- <button *ngIf="exist_fecha_entrega" type="button" id="busqueda_razon_social" (click)="exist_fecha_entrega = false" class="btn btn-danger" title="Buscar razon social" >PLANIFICAR ENTREGA LUEGO</button> -->
							<!-- <button *ngIf="!exist_fecha_entrega"  type="button" id="busqueda_razon_social" (click)="exist_fecha_entrega = true" class="btn btn-primary" title="Buscar razon social" >PLANIFICAR ENTREGA</button> -->

							<!-- </div> -->
							
							
							
							<!-- <div class="col-md-3"> -->
                                <!-- <div class="form-group"> -->
                                    <!-- <label>VENDEDOR </label> -->
									
									<!-- <select *ngIf="srv.getConfCambioVendedorPed()== 'NO'" name="vendedor" [(ngModel)]="vendedor" class="form-control select2 tip" style="width:100%;" disabled> -->
									<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
									<!-- <option *ngFor="let e of vendedores_lista"  [value]="e.codven">{{e.nomven}}</option> -->
									<!-- </select> -->
									
									<!-- <select *ngIf="srv.getConfCambioVendedorPed()== 'SI'" name="vendedor" [(ngModel)]="vendedor" class="form-control select2 tip" style="width:100%;"> -->
									<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
									<!-- <option *ngFor="let e of vendedores_lista"  [value]="e.codven">{{e.nomven}}</option> -->
									<!-- </select> -->
								
								<!-- </div> -->
                            <!-- </div> -->
							
							<!-- <div class="col-md-2"> -->
                                <!-- <div class="form-group"> -->
									<!-- <label for="date">TIPO IDENTIFICACIÓN</label> -->
									<!-- <select name="tipo_doc" [(ngModel)]="tipo_doc" class="form-control select2 tip" style="width:100%;"> -->
									<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
									<!-- <option *ngFor="let e of tipo_doc_lista; let i = index;" [selected] = "i==0" [value]="e.tipo">{{e.nom_doc}}</option> -->
									<!-- </select> -->
								<!-- </div> -->
                            <!-- </div> -->
                            <!-- <div class="col-md-2"> -->
                                <!-- <div class="form-group"> -->
                                    <!-- <label for="reference">CÉDULA/RUC </label> -->
									<!-- <input type="text" (keypress)='validaNumericosCantidad($event)'  placeholder="Búsqueda por cédula/ruc" name="reference" value="" class="form-control tip" (keyup.enter)="busca_cliente()" id="reference" [(ngModel)]="ruc"> -->
								<!-- </div> -->
                            <!-- </div> -->
							<!-- <div class="col-md-1"> -->
							<!-- <br> -->
							<!-- <input type="submit" name="busca_cliente" value="Buscar cliente" class="btn btn-primary" (click)="busca_cliente();check_agencia=false"> -->
							<!-- </div> -->
							
							
							
							<div class="col-md-6">
                                <div class="form-group">
								<label for="reference">BUSQUEDA PACIENTE (Por Nombre Apellido o Cedula RUC)</label>
								
								<div class="input-group">
								
								<input   type="text" name="search_customer" id="search_customer" (keyup.enter)="busqueda_razon_social()"  [(ngModel)]="patron_cliente"  class="form-control ui-autocomplete-input" placeholder="Ingrese el nombre del cliente" autocomplete="off">
								
								<div (click)="busqueda_razon_social()" class="input-group-addon no-print" style="padding: 2px 5px;">
									<a id="add-customer" class="external"><i class="fa fa-2x fa-search" id="searchIcon"></i></a>
								</div>
								<div (click)="switchtab()" class="input-group-addon no-print" style="padding: 2px 5px;">
									<a id="add-customer" class="external"><i class="fa fa-2x fa-plus" id="agregar" title="Crear paciente"></i></a>
								</div>
								
									
								</div>
								
								
								</div>
							</div>
							
							
							
							<!-- <div class="col-md-1"> -->
							<!-- <br>  -->
							<!-- <!-- <input type="submit" name="busqueda_razon_social" value="Buscar razon social" class="btn btn-primary" (click)="busqueda_razon_social()"> --> 
							<!-- <button type="button" id="busqueda_razon_social" (click)="busqueda_razon_social()" class="btn btn-primary" title="Buscar razon social" ><i class="fa fa-fw fa-search"></i></button> -->
							
							<!-- <!-- <i class="fa fa-edit" title="Editar fecha de creacion"></i> --> 
							<!-- </div> -->
							
							
							
							
                        </div>
						
						<div class="form-group"  *ngIf="this.exist_razon_social">
						<p>Resultado de la busqueda por <<{{this.patron_cliente}}>></p>
						<div class="table-responsive-pedidos">
							<table class="table table-striped table-bordered table-condensed table-hover dataTable">
							   <thead>
								  <tr class="active" role="row">
									 <th>Razon Social</th>
									 <th class="text-center">Tipo ident</th>
									 <th class="text-center">Num Identificacion</th>
									 <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1" >Selec</th>
								  </tr>
							   </thead>
							   <tbody>
								  <tr  *ngFor="let rz of razon_social_lista;">
									 <td>{{rz.nomcli}}</td>
									 <td class="text-center">{{rz.tpIdCliente}}</td>
									 <td class="text-center">{{rz.rucced}}</td>
									 <td class="text-center"> 
									  <input  type="radio"  name="radio_cliente" (change)="select_razon_social(rz.tpIdCliente,rz.rucced,rz.nomcli,rz.email,rz.codcli,rz.dircli)"  />
									  
									  <!-- <input type="radio" name="optionsRadios" id="optionsRadios1" [(ngModel)]="check_agencia" (change)="validar_exist_agencia('P')"  value="principal"> -->
									 </td>
								  </tr>
								</tbody>
							</table>
						</div>
						</div>
						
						
						
						
						
						
						
						
						
						
						
						<div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
														
								<label for="reference">NOMBRES Y APELLIDOS DEL PACIENTE </label>
								<input *ngIf="!this.clientes" type="text" placeholder="Nombre ó Razón Social" id="add_item" class="form-control ui-autocomplete-input" autocomplete="off" disabled>
								<input *ngIf="this.clientes " type="text" placeholder="Nombre ó Razón Social" id="add_item"  value="{{razon_social}}" class="form-control ui-autocomplete-input" autocomplete="off" disabled>
						
								</div>
                            </div>
						<!-- COMENTARIO SESION DE CORREOS	 -->
                            <div class="col-md-4">
                                <!-- <div class="form-group"> -->
                                    <!-- <label for="reference">EMAIL DEL CLIENTE</label> -->
									<!-- <input *ngIf="!this.clientes && !this.cambiar_email"  type="text" placeholder="Email a enviar el pedido" name="reference" value="" class="form-control tip" disabled> -->
									<!-- <input *ngIf="this.clientes && !this.cambiar_email"  type="text" value="{{email_cliente}}" name="reference" class="form-control tip" disabled> -->
									<!-- <input #nuevo_correo  *ngIf="this.cambiar_email"  type="email" placeholder="Ingrese nuevo correo" value="" name="reference" class="form-control tip" (blur)="update_email(nuevo_correo.value)"  (keyup.enter)="update_email(nuevo_correo.value)" > -->
								<!-- </div> -->
								
                            <!-- </div> -->
							<!-- <div class="col-md-2"> -->
							<!-- <br> -->
							<!-- <input type="submit" name="cambio_correo" value="Cambiar email" class="btn btn-primary" (click)="cambiar_email = true" > -->
							
							<div class="form-group">
                                    <label for="category">ESPECIALIDAD</label>    

									<!-- <input type="text" placeholder="Especialidades" id="add_item" class="form-control ui-autocomplete-input" autocomplete="off" disabled> -->
									<input type="text" placeholder="Especialidades" id="add_item"  value="{{especialidad}}" class="form-control ui-autocomplete-input" autocomplete="off" disabled>									
									
									<!-- <select name="city" [(ngModel)]="ciudad" class="form-control select2 tip" style="width:100%;"> -->
									<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
									<!-- <option *ngFor="let e of ciudad_lista; let i = index;" [selected] = "i==0" [value]="e.nomgeo">{{e.nomgeo}}</option> -->
									<!-- </select> -->
							</div>
							
							
							
							
							
							</div>
                        </div>
						
					
						<!-- <div class="row"> -->
							<!-- <div class="col-md-4"> -->
                                <!-- <div class="form-group"> -->
                                    <!-- <label for="category">CIUDAD</label>                               -->
									
									<!-- <select name="city" [(ngModel)]="ciudad" class="form-control select2 tip" style="width:100%;"> -->
									<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
									<!-- <option *ngFor="let e of ciudad_lista; let i = index;" [selected] = "i==0" [value]="e.nomgeo">{{e.nomgeo}}</option> -->
									<!-- </select> -->
								<!-- </div> -->
								

								
								
							<!-- </div> -->

                        <!-- </div> -->
        
						<!--################## EJEMPLO COMBO CON SELECT############## -->


                        <div class="row">
                            <div class="col-md-12">
                                <div class="table-responsive">
								
                                   <table id="poTable" class="table table-striped table-bordered table-condensed table-hover dataTable">
                                        <thead>
                                            <tr class="active" role="row">
												<th>Código</th>
                                                <th>Descripción rubro</th>
												<!-- <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1">Unid.</th> -->
												<th style="width:25px; padding-right:5px;" rowspan="1" colspan="1">Cantidad</th>
												<th style="width:25px; padding-right:15px;" rowspan="1" colspan="1" >Precio Unitario</th>
												
												<!-- <th>Porc. IVA</th> -->
												
												<!-- <th>Cant.IVA</th> -->
                                              
												<th style="width:25px; padding-right:5px;" rowspan="1" colspan="1">Descuento%</th>
												<!-- <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1">V.Descuento</th> -->
                                                <th>Subtotal</th>
												<th>Observación</th>
                                                <th class="col-xs-1 text-center" (click)="delete_art_todo()" style="width:25px;"><i class="fa fa-trash-o" title="Remover todos" ></i></th>
                                            </tr>
                                        </thead>
										
										<tbody *ngIf="articulos_pedido.length > 0">
											<tr *ngFor="let el of articulos_pedido;">
												<td>{{el.codart}}</td>
												
												
												
												
												
												
												<td  style="min-width:120px;">
													<!-- <input #nomart class="form-control input-sm kb-pad text-center rquantity" name="nomart" type="text" placeholder="Puede cambiar el nombre del articulo"    -->
													<!-- value="{{el.nomart}}"  (keyup.enter)="update_nomart(el.codart,el.index,nomart.value)" (blur)="update_nomart(el.codart,el.index,nomart.value)"> -->
												
													<textarea #nomart name="nomart"  rows="3" cols="2" placeholder="Puede cambiar el nombre del articulo"  value="{{el.nomart}}" 
													(blur)="update_nomart(el.codart,el.index,nomart.value)" (change)="update_nomart(el.codart,el.index,nomart.value)" (keypress)='validaEnter($event,nomart.value)'
													 class="pa form-control kb-text"></textarea>
												
												
												</td>
												
												
												
												<!-- <td>{{el.coduni}}</td> -->
												
												<td style="padding:2px;">
													<input #cant inputmode="numeric" class="form-control input-sm kb-pad text-center rquantity" name="cantidad" type="text"  
													value="{{el.cant}}" (keypress)='validaNumericos($event,cant.value)' (keyup.enter)="update(el.codart,el.index,cant.value)" (blur)="update(el.codart,el.index,cant.value)">
												</td>
												

												<td style="padding:2px;">
													<div class="text-center">
													 <input #prec inputmode="numeric" class="form-control input-sm kb-pad text-center rquantity" name="precio" type="text"  
													 value="{{el.prec01}}" (keypress)='validaNumericos($event,prec.value)' (keyup.enter)="update_precio(el.codart,el.index,prec.value)" (blur)="update_precio(el.codart,el.index,prec.value)">
													</div>
												</td>
												
												<!-- <td style="padding:2px;"> -->
													<!-- <!-- <div class="text-center">{{el.poriva}}%</div> --> 
													 <!-- <div *ngIf="el!== edit_iva_art" class="text-center">{{el.poriva}}%  -->
													<!-- <a *ngIf="el!== edit_iva_art" (click)="edit_iva_articulo(el)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar iva"></i></a> -->
													<!-- </div> -->
													
													 <!-- <!-- EL QUE SIRVE --> 
												 <!-- <select *ngIf="el===edit_iva_art" #iva  name="change_iva" class="form-control" (change)="update_iva_art(el.codart,el.index,iva.value)"> -->
												 <!-- <option [ngValue]="undefined" disabled  selected>Selec</option> -->
												 <!-- <option  *ngFor="let e of iva_siaci; let i = index;"  [value]="e.poriva+'|'+e.codiva" >{{e.poriva}}-({{e.codiva}}) -->
												 <!-- </option> -->
												 <!-- </select> -->
													
													
												<!-- </td> -->
												
												<!-- <td style="padding:2px;"> -->
													<!-- <div class="text-center">USD {{el.precio_iva}}</div> -->
												<!-- </td>												 -->

												<td style="padding:2px;">
													<input #porc_desc inputmode="numeric" class="form-control input-sm kb-pad text-center rquantity" name="porc_desc[]" type="text"  
													value="{{el.punreo}}" (keypress)='validaNumericos($event,porc_desc.value)' (keyup.enter)="update_art_desc(el.codart,el.index,porc_desc.value)" (blur)="update_art_desc(el.codart,el.index, porc_desc.value)">
												</td>
												<!-- <td> <div class="text-center">USD {{redondear(el.v_desc_art)}}</div> </td> -->

												<td style="padding:2px;">
													<!-- <div class="text-center"> USD {{redondear(el.cant * el.prec01)}}</div> -->
													<div class="text-center"> USD {{redondear(el.subtotal_art)}}</div>
												</td>
												
												
												<td style="min-width:120px;">
													<textarea #observacion name="observacion"  rows="3" cols="2" placeholder="Puede registrar una observacion"  value="{{el.num_docs}}" 
													(blur)="update_observ(el.codart,el.index,observacion.value)" (change)="update_observ(el.codart,el.index,observacion.value)" (keypress)='validaEnter($event,nomart.value)'
													 class="pa form-control kb-text"></textarea>
												</td>
												
												
												
												
												<td (click)="delete_art(el.nomart,el.index)" class="text-center">
													<i class="fa fa-trash-o tip pointer spodel" title="Remover artículo"></i>
												</td>
											</tr>
											<tr>
											<!-- <td class="text-center" colspan="1"> -->
												<!-- <label  class="switch"> -->
													<!-- <input type="checkbox" [checked] = "tipo_busqueda" (click)="tipo_entrada()"><span class="slider round"></span> -->
												<!-- </label> -->
								
											<!-- </td> -->
											<!-- <td class="text-center" colspan="1"> -->
												<!-- <label  *ngIf="tipo_busqueda" >INCLUIR ARTÍCULO</label>  -->
												<!-- <label  *ngIf="!tipo_busqueda" >INCLUIR SERVICIO</label>  -->
											<!-- </td> -->
											<!-- <td class="text-center" colspan="10"> -->
												<!-- <input *ngIf="tipo_busqueda"  #busqueda_art1 class="form-control input-sm kb-pad text-center rquantity" name="busqueda1" type="text" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL ARTÍCULO Y PRESIONAR LA TECLA ENTER" value="" (keyup.enter)="busca_articulo()" [(ngModel)]="patron_articulo"> -->
												<!-- <input *ngIf="!tipo_busqueda" #busqueda_ser1 class="form-control input-sm kb-pad text-center rquantity" name="busqueda_serv" type="text" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL SERVICIO Y PRESIONAR LA TECLA ENTER" value="" (keyup.enter)="busca_servicio()" [(ngModel)]="patron_articulo"> -->
											<!-- </td> -->
											<tr *ngIf="searching_articulo">
											<td class="text-center" colspan="12"><h4>BUSCANDO ARTÍCULO POR FAVOR ESPERE...!!!!</h4></td>
											</tr>
											<tr *ngIf="this.exist_articulo">
											<td class="text-center" colspan="12">
											<div class="table-responsive-pedidos">
												 <tr class="active" role="row">
													 <th>Código</th>
													 <th>Nombre</th>
													 <th class="text-center">Precio unit</th>
													 <th style="width:25px; padding-right:5px;" >Dispon</th>
													 <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1" >Selec</th>
												  </tr>
										
										<!-- <input type="submit" name="inserta_pedido" value="Insertar a pedido" class="btn btn-danger" (click)="inserta_pedido()"> -->
												  
											<tr *ngFor="let articulos of articulo;">
										  
											 <td class="">{{articulos.codart}}</td>
											 <td class="">{{articulos.nomart}}</td>
											 <td class="text-center">
												<span *ngIf="articulos!==edit_articulos">{{articulos.prec01}}  </span>
									
											<select  *ngIf="articulos===edit_articulos"  name="nuevo_precio_renglon" [(ngModel)]="nuevo_precio_renglon" (change)="edit_prec_renglon(articulos.codart)" class="form-control select2 tip" style="width:100%;">
											<option [ngValue]="undefined" disabled  selected>Seleccione</option>
											<option *ngFor="let e of lista_prec; let i = index;" [selected] = "i==0" [value]="e.prec">{{e.prec}}</option>
											</select>
											<a *ngIf="articulos!==edit_articulos"  (click)="edit_prec(articulos)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar precio"></i></a> 	
											 </td>
											 <td class="">{{articulos.exiact}}</td>
											 <td class=""> 
											  <!-- <input  type="checkbox"/> -->
											  <input  type="checkbox" [(ngModel)]="articulos.isSelected" name="list_name" value="{{articulos.nomart}}" (change)="isAllSelected()"/>
											 </td>
										  </tr>

										  <!-- <input type="submit" name="inserta_pedido" value="Insertar a pedido" class="btn btn-danger" (click)="inserta_pedido()"> -->

											</div>
											</td>
										</tr>
											
                                        </tbody>
									
										<tbody *ngIf="articulos_pedido.length == 0">
											<!-- <tr> -->
											<!-- <td class="text-center" colspan="1"> -->
												<!-- <label  class="switch"> -->
													<!-- <input type="checkbox" [checked] = "tipo_busqueda" (click)="tipo_entrada()"><span class="slider round"></span> -->
												<!-- </label> -->
								
											<!-- </td> -->
											<!-- <td class="text-center" colspan="1"> -->
												<!-- <label  *ngIf="tipo_busqueda" >INCLUIR ARTÍCULO</label>  -->
												<!-- <label  *ngIf="!tipo_busqueda" >INCLUIR SERVICIO</label>  -->
											<!-- </td> -->
											<!-- <td class="text-center" colspan="10"> -->
												<!-- <!-- <input  #busqueda_art2 class="form-control input-sm kb-pad text-center rquantity" name="busqueda2" type="text" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL ARTÍCULO Y PRESIONAR LA TECLA ENTER" value="" (keyup.enter)="busca_articulo()" [(ngModel)]="patron_articulo"> --> 
												<!-- <input *ngIf="tipo_busqueda"  #busqueda_art1 class="form-control input-sm kb-pad text-center rquantity" name="busqueda1" type="text" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL ARTÍCULO Y PRESIONAR LA TECLA ENTER" value="" (keyup.enter)="busca_articulo()" [(ngModel)]="patron_articulo"> -->
												<!-- <input *ngIf="!tipo_busqueda" #busqueda_ser1 class="form-control input-sm kb-pad text-center rquantity" name="busqueda_ser1" type="text" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL SERVICIO Y PRESIONAR LA TECLA ENTER" value="" (keyup.enter)="busca_servicio()" [(ngModel)]="patron_articulo"> -->
											<!-- </td> -->
											<!-- </tr> -->
											
											<tr *ngIf="searching_articulo">
											<td class="text-center" colspan="12"><h4>BUSCANDO ARTÍCULO POR FAVOR ESPERE...!!!!</h4></td>
											</tr>
											
											<tr *ngIf="this.exist_articulo">
											<td class="text-center" colspan="12">
											<div class="table-responsive-pedidos">
												 <tr class="active" role="row">
													 <th>Código</th>
													 <th>Nombre</th>
													 <th class="text-center">Precio unit</th>
													 <th style="width:25px; padding-right:5px;" >Dispon</th>
													 <th style="width:25px; padding-right:5px;" rowspan="1" colspan="1" >Selec</th>
												  </tr>
										
										<!-- <input type="submit" name="inserta_pedido" value="Insertar a pedido" class="btn btn-danger" (click)="inserta_pedido()"> -->
												  
											<tr *ngFor="let articulos of articulo;">
										  
											 <td class="">{{articulos.codart}}</td>
											 <td class="">{{articulos.nomart}}</td>
											 <td class="text-center">
												<span *ngIf="articulos!==edit_articulos">{{articulos.prec01}}  </span>
									
											<select  *ngIf="articulos===edit_articulos"  name="nuevo_precio_renglon" [(ngModel)]="nuevo_precio_renglon" (change)="edit_prec_renglon(articulos.codart)" class="form-control select2 tip" style="width:100%;">
											<option [ngValue]="undefined" disabled  selected>Seleccione</option>
											<option *ngFor="let e of lista_prec; let i = index;" [selected] = "i==0" [value]="e.prec">{{e.prec}}</option>
											</select>
											<a *ngIf="articulos!==edit_articulos"  (click)="edit_prec(articulos)" class="tip btn btn-warning btn-xs"><i class="fa fa-edit" title="Editar precio"></i></a> 	
											 </td>
											 <td class="">{{articulos.exiact}}</td>
											 <td class=""> 
											  <!-- <input  type="checkbox"/> -->
											  <input  type="checkbox" [(ngModel)]="articulos.isSelected" name="list_name" value="{{articulos.nomart}}" (change)="isAllSelected()"/>
											 </td>
										  </tr>

										  <!-- <input type="submit" name="inserta_pedido" value="Insertar a pedido" class="btn btn-danger" (click)="inserta_pedido()"> -->

											</div>
											</td>
											</tr>
		<!-- <div class="table-responsive-pedidos">									 -->
<!-- *ngIf="!searching_articulo" -->
<!--  -->						


											
											
											
											
											
										</tbody>

										
										
										
									 <!-- <tfoot *ngIf="articulos_pedido.length > 0"> -->
											<!-- <tr class="active"> -->
                                                <!-- <th></th> -->
                                                <!-- <th *ngIf="this.exist_articulo">												 -->
												<!-- <input type="submit" name="inserta_pedido" value="Insertar a pedido" class="btn btn-danger" (click)="inserta_pedido()"> -->
												<!-- </th> -->
												<!-- <th *ngIf="!this.exist_articulo"> -->
												<!-- </th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th>Subtotal</th> -->
                                                <!-- <th><div class="text-center">USD {{ redondear (subtotal)}}</div></th> -->
                                                <!-- <th style="width:25px;"></th> -->
											<!-- </tr> -->
			
											<!-- <tr class="active"> -->
                                                <!-- <th></th> -->
                                                <!-- <th *ngIf="this.exist_articulo"> -->
													<!-- <p>{{elements_checkedList.length}}  Items seleccionados</p> -->
												<!-- </th> -->
												<!-- <th *ngIf="!this.exist_articulo"> -->
												<!-- </th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th>Total IVA</th> -->
                                                <!-- <th class="text-center">USD {{ redondear (iva_cant_new)}}</th> -->
                                                <!-- <th style="width:25px;"></th> -->
                                            <!-- </tr> -->
											<!-- <tr class="active"> -->
                                                <!-- <th></th> -->
                                                <!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th></th> -->
												<!-- <th>Total</th> -->
                                                <!-- <th class="text-center">USD {{ redondear (total)}}</th> -->
                                                <!-- <th style="width:25px;"></th> -->
                                            <!-- </tr> -->
									<!-- </tfoot> -->
								
                                    </table>
							<div  *ngIf="this.exist_articulo && articulos_pedido.length == 0" class="col-md-5">
							<input type="submit" name="inserta_pedido" value="Insertar a pedido" class="btn btn-danger" (click)="inserta_pedido()">
								<p>{{elements_checkedList.length}}  Items seleccionados</p>
							</div>
                                </div>
                            </div>
                        </div>
				<div class="form-group">
					<div class="input-group">
					
						<input 	*ngIf="tipo_busqueda"  type="text" name="buscart" id="buscart"  value="" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL ARTÍCULO Y PRESIONAR LA TECLA ENTER" (keyup.enter)="busca_articulo()" [(ngModel)]="patron_articulo" class="form-control ui-autocomplete-input text-center " autocomplete="off">
					
						<input *ngIf="!tipo_busqueda"  type="text" name="buscser" id="buscser"  value="" placeholder="FAVOR INGRESAR CÓDIGO O NOMBRE DEL SERVICIO Y PRESIONAR LA TECLA ENTER" (keyup.enter)="busca_servicio()" [(ngModel)]="patron_articulo" class="form-control ui-autocomplete-input text-center " autocomplete="off">
					
					
						
						
						<!-- <input [(ngModel)]="observacion_pedido" value="{{observacion_pedido}}" type="text" placeholder="Puede escribir observaciones del pedido" name="reference" value="" class="form-control tip" id="reference"> -->
						<div  *ngIf="tipo_busqueda"  (click)="busca_articulo()" class="input-group-addon no-print" style="padding: 2px 5px;" >
								<a id="add-customer" class="external"><i class="fa fa-2x fa-search" id="searchIcon"></i></a>
						</div>
						<div  *ngIf="!tipo_busqueda"  (click)="busca_servicio()" class="input-group-addon no-print" style="padding: 2px 5px;" >
								<a id="add-customer" class="external"><i class="fa fa-2x fa-search" id="searchIcon"></i></a>
						</div>
						<div *ngIf="this.exist_articulo && articulos_pedido.length > 0" class="input-group-addon no-print" style="padding: 2px 5px;" (click)="inserta_pedido()">
								<!-- <a id="add-customer" class="external"><i class="fa fa-2x fa-check" id="addIcon"></i></a> -->
						<input type="submit" name="inserta_pedido" value="Insertar" class="btn btn-danger" (click)="inserta_pedido()">
						
						</div>
					
					</div>
					<div>
				
						<div class="input-group-addon no-print" style="padding: 2px 5px;" >
								<!-- <a id="add-customer" class="external"><i class="fa fa-2x fa-search" id="searchIcon"></i></a> -->
								<label  class="switch">
										<input type="checkbox" [checked] = "tipo_busqueda" (click)="tipo_entrada()"><span class="slider round"></span>
								</label>
						
						</div>
						<div class="input-group-addon no-print" style="padding: 2px 5px;" >
								<!-- <input type="submit" name="inserta_pedido" value="Insertar" class="btn btn-danger" (click)="inserta_pedido()"> -->
								<label  *ngIf="tipo_busqueda" >INCLUIR RUBRO</label> 
								<label  *ngIf="!tipo_busqueda" >INCLUIR SERVICIO</label>
						</div>
					
					</div>
				</div>
						
						
						


				<div class="form-group">
					<div class="box-body">
						<div class="row">
							
						<div class="col-md-4 col-sm-6 col-xs-12">
							<div class="info-box">
							<span class="info-box-icon bg-green"><i class="fa fa-fw fa-cart-plus"></i></span>
							<div class="info-box-content">
								<span  class="info-box-number ">SUBTOTAL</span>
								<span style="color:red" class="info-box-number">USD {{ redondear (subtotal)}}</span>
						
							</div>
							</div>
						</div>
							
							
						<div class="col-md-4 col-sm-6 col-xs-12">
							<div class="info-box">
							<span class="info-box-icon bg-aqua"><i class="fa fa-fw fa-info-circle"></i></span>
							
							
							<div class="info-box-content">
								<span class="info-box-number">TOTAL IVA</span>
								<span style="color:red" class="info-box-number">USD {{ redondear (iva_cant_new)}}</span>
							</div>
							</div>
						</div>

						<div class="col-md-4 col-sm-6 col-xs-12">
							<div class="info-box">
							<span class="info-box-icon bg-yellow"><i class="fa fa-fw fa-dollar"></i></span>
							<div class="info-box-content">
								<span  class="info-box-number ">TOTAL ORDEN</span>
								<span style="color:red" class="info-box-number">USD {{ redondear (total)}}</span>
							</div>
							</div>
						</div>
						</div>
					</div>
				</div>

						<div class="form-group">
							<label for="note">OBSERVACIÓN ADICIONAL PARA LA ORDEN</label>
							<input #observ_general (keyup.enter)="update_observ_general(observ_general.value)" (blur)="update_observ_general(observ_general.value)" type="text" placeholder="Puede escribir observaciones del pedido" [(ngModel)]="observacion_pedido" name="reference" value="" class="form-control tip" id="reference">
						</div>

                       <div class="form-group">
							<input *ngIf="articulos_pedido.length > 0 && !accion_actualizar && estado != 'P'" #generar_pe type="submit" (click)="generar_pedido()"  name="add_purchase" value="Generar orden" class="btn btn-primary">
							<input *ngIf="articulos_pedido.length > 0 && accion_actualizar && estado != 'P'" #actualizar_pe type="submit" (click)="actualizar_pedido()"  name="add_purchase" value="Actualizar orden" class="btn btn-primary">
							<input *ngIf="articulos_pedido.length > 0 && accion_actualizar && estado != 'P'" #enviar_pe type="submit" (click)="enviar_orden_facturacion()"  name="add_purchase" value="Enviar orden" class="btn btn-success">
							<input  #regresar_lista  routerLink="/admin/lista_ped_medicos" [queryParams]="{usuario:usuario,empresa:empresa}" type="submit"  name="add_purchase" value="Ir a lista de ordenes" class="btn btn-danger">

						</div>
						
						

                        </form>    




						
						</div>
                    <div class="clearfix"></div>
                </div> <!--Aqui termina Body -->
			</div> <!-- /.tab-pane 1-->	
			<div class="tab-pane"  id="tab_crear_cliente" #tab_crear_cliente>
				
				<!-- <app-admin-cliente status_cambio_vista_cliente="true" #cliente_contenido></app-admin-cliente> -->
				
				<div class="box-body">
					<form  accept-charset="utf-8">

					<div class="col-md-6">
					<div class="form-group">
							<label class="control-label">Cédula / RUC Paciente</label>
							<table>
								<tr>
									<td>
								
									<select name="tipo_doc_paciente" [(ngModel)]="tipo_doc_paciente" class="form-control select2 tip" style="width:100%;">
									<option [ngValue]="undefined" disabled  selected>Seleccione</option>
									<option *ngFor="let e of tipo_doc_lista; let i = index;" [selected] = "i==0" [value]="e.tipo">{{e.nom_doc}}</option>
									</select>

									</td>
									<td *ngIf="tipo_doc_paciente != 'X'" class="col-xs-9">
									<input (keypress)='validaNumericosCantidad($event)'  inputmode="numeric" [(ngModel)]="rucced_paciente" type="text" name="cf1" value="" placeholder="Ingrese num identificacion"  class="form-control input-sm" id="cf1" />
									</td>
									<td *ngIf="tipo_doc_paciente == 'X'" class="col-xs-9">
									<input type="text" name="cf1" value="" placeholder="Ingrese num identificacion"  class="form-control input-sm" id="cf1" disabled />
									</td>
								</tr>
							</table>

					</div>
					
						<div class="form-group">
							<label class="control-label">Nombres del paciente</label>
							<input [(ngModel)]="nomcli_paciente" type="text" name="name" value="" placeholder="Ingrese nombres del paciente" class="form-control input-sm" id="name" />
						</div>
						<div class="form-group">
							<label class="control-label">Apellidos del paciente</label>
							<input [(ngModel)]="apecli" type="text" name="apecli" value="" placeholder="Ingrese apellidos del paciente" class="form-control input-sm" id="apecli" />
						</div>

					<!-- <div class="form-group"> -->
							<!-- <label class="control-label">Tipo de cliente</label> -->
							
							<!-- <select name="tipo" [(ngModel)]="tipo_cliente" class="form-control select2 tip" style="width:100%;"> -->
							<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
							<!-- <option *ngFor="let e of tipo_cliente_lista; let i = index;" [selected] = "i==0" [value]="e.tipo">{{e.nom_tipo_cli}}</option> -->
							<!-- </select> -->
							
					<!-- </div> -->
					<div class="form-group">
							<label class="control-label">Número de historia clínica</label>
							<input [(ngModel)]="num_historia"   type="text" name="cf2" value="" placeholder="Ingrese numero historia"   class="form-control input-sm" id="cf2" />
					</div>
					<div class="form-group">
							<label class="control-label">Fecha de nacimiento</label>
							<!-- <input   (keypress)='validaNumericosCantidad($event)' [(ngModel)]="telcli" inputmode="numeric"  type="text" name="phone" value="" placeholder="Ingrese número telefónico"   class="form-control input-sm" id="phone" /> -->
							<input [(ngModel)]="fecha_nacimiento" type="date" name="fecha_nacimiento" placeholder="dd-mm-yyyy" value="" min="1900-01-01" max="2030-12-31">
					</div>
					<!-- <div class="form-group"> -->
							<!-- <label class="control-label" >Teléfono Móvil (OPCIONAL)</label> -->
							<!-- <input (keypress)='validaNumericosCantidad($event)' [(ngModel)]="telcli2" inputmode="numeric"  type="text" name="phone" value="" placeholder="Ingrese número telefónico"   class="form-control input-sm" id="phone" /> -->
					<!-- </div> -->
					<!-- <div class="form-group"> -->
							<!-- <label class="control-label" >Ciudad</label> -->
							<!-- <!-- <select #ciudad name="city" class="form-control select2 tip" id="category"  required="required" style="width:100%;"> --> 
							<!-- <!-- <option *ngFor="let e of ciudad_lista; let i = index;" [selected] = "i==0" [value]="e.nomgeo" (click)="update_ciudad(ciudad.value)" >{{e.nomgeo}}</option> --> 
							<!-- <!-- </select> --> 
							
							<!-- <select name="city" [(ngModel)]="ciudad" class="form-control select2 tip" style="width:100%;"> -->
							<!-- <option [ngValue]="undefined" disabled  selected>Seleccione</option> -->
							<!-- <option *ngFor="let e of ciudad_lista; let i = index;" [selected] = "i==0" [value]="e.nomgeo">{{e.nomgeo}}</option> -->
							<!-- </select> -->
					<!-- </div> -->
					<!-- <div class="form-group"> -->
							<!-- <label class="control-label" >Dirección de e-mail</label> -->
							<!-- <input [(ngModel)]="email" type="text" name="email" value="" placeholder="Ingrese email válido"  class="form-control input-sm" id="email_address" /> -->
					<!-- </div> -->

					<div class="form-group">
							<input type="submit" name="add_customer" value="Guardar paciente"  class="btn btn-primary" (click)="guardar_paciente()" />
						</div>
					</div>
					</form>				
				</div>
            
			
			
			</div> <!-- /.tab-pane 2-->
			</div> <!-- /.tab-content -->
			</div> <!-- nav-tabs-custom -->
            
			
			
			
			<!-- </div> -->
        </div>
    </div>
 </section>
  <!-- /.content -->
</div>
